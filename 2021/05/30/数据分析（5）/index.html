<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>数据分析（5） | 三乘以十的八次幂</title><meta name="keywords" content="python"><meta name="author" content="三乘以十的八次幂"><meta name="copyright" content="三乘以十的八次幂"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第五章 matplotlib可视化数据分析图表5.1数据分析图表的作用  上述举例同是“月销量分析”结果的呈现，您更青睐哪一种？显然，数据分析图表（见图5.2）更加直观、生动和具体，它将复杂的统计数字变得简单化、通俗化、形象化，使人一目了然，便于理解和比较。数据分析图表直观地展示统计信息，使我们能够快速了解数据变化趋势、数据比较结果以及所占比例等，它对数据分析、数据挖掘起到了关键性的作用。 5.2">
<meta property="og:type" content="article">
<meta property="og:title" content="数据分析（5）">
<meta property="og:url" content="https://jiaobingyang.gitee.io/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/index.html">
<meta property="og:site_name" content="三乘以十的八次幂">
<meta property="og:description" content="第五章 matplotlib可视化数据分析图表5.1数据分析图表的作用  上述举例同是“月销量分析”结果的呈现，您更青睐哪一种？显然，数据分析图表（见图5.2）更加直观、生动和具体，它将复杂的统计数字变得简单化、通俗化、形象化，使人一目了然，便于理解和比较。数据分析图表直观地展示统计信息，使我们能够快速了解数据变化趋势、数据比较结果以及所占比例等，它对数据分析、数据挖掘起到了关键性的作用。 5.2">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2.baidu.com/it/u=3843742074,4293285046&fm=253&fmt=auto&app=138&f=JPEG?w=822&h=500">
<meta property="article:published_time" content="2021-05-30T04:53:51.000Z">
<meta property="article:modified_time" content="2022-06-02T12:59:46.584Z">
<meta property="article:author" content="三乘以十的八次幂">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2.baidu.com/it/u=3843742074,4293285046&fm=253&fmt=auto&app=138&f=JPEG?w=822&h=500"><link rel="shortcut icon" href="/img/13279652804370799.jpg"><link rel="canonical" href="https://jiaobingyang.gitee.io/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据分析（5）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-02 20:59:46'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mycss.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/13279652804370799.jpg" onerror="onerror=null;src='/img/wallhaven-e76roo.png'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">99</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/_data/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于本站</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img2.baidu.com/it/u=3843742074,4293285046&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=822&amp;h=500')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">三乘以十的八次幂</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/_data/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于本站</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据分析（5）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-05-30T04:53:51.000Z" title="发表于 2021-05-30 12:53:51">2021-05-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-06-02T12:59:46.584Z" title="更新于 2022-06-02 20:59:46">2022-06-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/python/">python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据分析（5）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第五章-matplotlib可视化数据分析图表"><a href="#第五章-matplotlib可视化数据分析图表" class="headerlink" title="第五章 matplotlib可视化数据分析图表"></a>第五章 matplotlib可视化数据分析图表</h1><h2 id="5-1数据分析图表的作用"><a href="#5-1数据分析图表的作用" class="headerlink" title="5.1数据分析图表的作用"></a>5.1数据分析图表的作用</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022031956908.png" alt="image-20211022031956908"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022032027076.png" alt="image-20211022032027076"></p>
<p>上述举例同是“月销量分析”结果的呈现，您更青睐哪一种？显然，数据分析图表（见图5.2）更加直观、生动和具体，它将复杂的统计数字变得简单化、通俗化、形象化，使人一目了然，便于理解和比较。数据分析图表直观地展示统计信息，使我们能够快速了解数据变化趋势、数据比较结果以及所占比例等，它对数据分析、数据挖掘起到了关键性的作用。</p>
<h2 id="5-2-如何选择适合的图表类型"><a href="#5-2-如何选择适合的图表类型" class="headerlink" title="5.2　如何选择适合的图表类型"></a>5.2　如何选择适合的图表类型</h2><p>数据分析图表的类型包括条形图、柱状图、折线图、饼图、散点图、面积图、环形图、雷达图等。此外，通过图表的相互叠加还可以生成复合型图表。<br>不同类型的图表适用不同的场景，可以按使用目的选择合适的图表类型。下面通过一张框架图来说明，如图5.3所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022032233461.png" alt="image-20211022032233461"></p>
<p>​                                                                                                    图5.3　图表分类框架图</p>
<h2 id="5-3-图表的基本组成"><a href="#5-3-图表的基本组成" class="headerlink" title="5.3　图表的基本组成"></a>5.3　图表的基本组成</h2><p>数据分析图表有很多种，但每一种图表的绝大组成部分是基本相同的，一张完整的图表一般包括画布、图表标题、绘图区、数据系列、坐标轴、坐标轴标题、图例、文本标签、网格线等，如图5.4所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022032427628.png" alt="image-20211022032427628"></p>
<p>​                                                                                  图5.4　图表的基本组成部分<br>下面详细介绍各个组成部分的功能。<br>（1）画布：图中最大的白色区域，作为其他图表元素的容器。<br>（2）图表标题：用来概况图表内容的文字，常用的功能有设置字体、字号及字体颜色等。<br>（3）绘图区：画布中的一部分，即显示图形的矩形区域，可改变填充颜色、位置，以便图表展示更好的图形效果。<br>（4）数据系列：在数据区域中，同一列（或同一行）数值数据的集合构成一组数据系列，也就是图表中相关数据点的集合。图表中可以有一组到多组数据系列，多组数据系列之间通常采用不同的图案、颜色或符号来区分。图5.4中，销售额就是数据系列。<br>（5）坐标轴及坐标轴标题：坐标轴是标识数值大小及分类的垂直线和水平线，上面有标定数据值的标志（刻度）。一般情况下，水平轴（x轴）表示数据的分类；坐标轴标题用来说明坐标轴的分类及内容，分为水平坐标轴和垂直坐标轴。图5.4中，x轴的标题是“年份”，y轴的标题是“线上销售额（元）”。<br>（6）图例：是指示图表中系列区域的符号、颜色或形状定义数据系列所代表的内容。图例由两部分构成，即图例标示和图例项。其中，图例标示，代表数据系列的图案，即不同颜色的小方块；图例项，与图例标示对应的数据系列名称。一种图例标示只能对应一种图例项。<br>（7）文本标签：用于为数据系列添加说明文字。<br>（8）网格线：贯穿绘图区的线条，类似标尺可以衡量数据系列数值的标准。常用的功能有设置网格线宽度、样式、颜色、坐标轴等。</p>
<h2 id="5-4-Matplotlib概述"><a href="#5-4-Matplotlib概述" class="headerlink" title="5.4　Matplotlib概述"></a>5.4　Matplotlib概述</h2><p>众所周知，Python绘图库有很多，各有特点，而Maplotlib是最基础的Python可视化库。学习Python数据可视化，应首先从Maplotlib学起，然后再学习其他库作为拓展。</p>
<h3 id="5-4-1-Matplotlib简介"><a href="#5-4-1-Matplotlib简介" class="headerlink" title="5.4.1　Matplotlib简介"></a>5.4.1　Matplotlib简介</h3><p>Matplotlib是一个Python 2D绘图库，常用于数据可视化。它能够以多种硬拷贝格式和跨平台的交互式环境生成出版物质量的图形。<br>Matplotlib非常强大，绘制各种各样的图表游刃有余，它将容易的事情变得更容易，困难的事情变得可能。只需几行代码就可以绘制折线图（见图5.5和图5.6）、柱形图（见图5.7）、直方图（见图5.8）、饼形图（见图5.9）、散点图（见图5.10）等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022032738449.png" alt="image-20211022032738449"></p>
<p>​                                                                                               图5.5　折线图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022032809892.png" alt="image-20211022032809892"></p>
<p>​                                                                                                         图5.6　多折线图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022032836058.png" alt="image-20211022032836058"></p>
<p>​                                                                                                           图5.7　柱形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022032942254.png" alt="image-20211022032942254"></p>
<p>​                                                                                                                图5.8　直方图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033015707.png" alt="image-20211022033015707"></p>
<p>​                                                                                                   图5.9　饼形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033048337.png" alt="image-20211022033048337"></p>
<p>​                                                                                                                   图5.10　散点图</p>
<p>Matpoltlib不仅可以绘制以上最基础的图表，还可以绘制一些高级图表，如双y轴可视化数据分析图表（见图5.11）、堆叠柱形图（见图5.12）、渐变饼形图（见图5.13）、等高线图（见图5.14）。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033123470.png" alt="image-20211022033123470"></p>
<p>​                                                                               图5.11　双y轴可视化数据分析图表</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033148927.png" alt="image-20211022033148927"></p>
<p>​                                                                                          图5.12　堆叠柱形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033244197.png" alt="image-20211022033244197"></p>
<p>​                                                                                                图5.13　渐变饼形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033309035.png" alt="image-20211022033309035"></p>
<p>​                                                                                                     图5.14　等高线图<br>不仅如此，Matplotlib还可以绘制3D图表。例如，三维柱形图（见图5.15）、三维曲面图（见图5.16）。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033338259.png" alt="image-20211022033338259"></p>
<p>​                                                                                           图5.15　三维柱形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022033408168.png" alt="image-20211022033408168"></p>
<p>​                                                                                                  图5.16　三维曲面图</p>
<p>综上所述，只要熟练地掌握Matplotlib的函数，以及各项参数就能够绘制出各种出乎意料的图表，满足数据分析的需求。</p>
<h3 id="5-4-2-安装Matplotlib"><a href="#5-4-2-安装Matplotlib" class="headerlink" title="5.4.2　安装Matplotlib"></a>5.4.2　安装Matplotlib</h3><p>pip install matplotlib</p>
<h3 id="5-4-3-Matplotlib图表之初体验"><a href="#5-4-3-Matplotlib图表之初体验" class="headerlink" title="5.4.3　Matplotlib图表之初体验"></a>5.4.3　Matplotlib图表之初体验</h3><p>创建Matplotlib图表简单的只需两步。下面将绘制第一张图表。</p>
<p>【示例01】　绘制第一张图表。（示例位置：资源包\MR\Code\05\01）<br>（1）引入pyplot模块。</p>
<p>（2）使用Matplotlib模块的plot()方法绘制图表。</p>
<p>（3）输出结果，如图5.19和图5.20所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022034058362.png" alt="image-20211022034058362"></p>
<p>​                                                                                         图5.19　简单折线图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022034122814.png" alt="image-20211022034122814"></p>
<p>​                                                                                             图5.20　简单散点图</p>
<p>程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 plt.plot([1, 2, 3, 4,5])</p>
<p>【示例02】　绘制散点图。（示例位置：资源包\MR\Code\05\02）<br>将示例01的代码稍作改动以绘制散点图，程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 plt.plot([1, 2, 3, 4,5], [2, 5, 8, 12,18], ‘ro’)</p>
<h2 id="5-5-图表的常用设置"><a href="#5-5-图表的常用设置" class="headerlink" title="5.5　图表的常用设置"></a>5.5　图表的常用设置</h2><p>本节主要介绍图表的常用设置，主要包括颜色设置、线条样式、标记样式、设置画布、坐标轴、添加文本标签、设置标题和图例、添加注释文本、调整图表与画布边缘间距，以及其他相关设置等。</p>
<h3 id="5-5-1-基本绘图plot-函数"><a href="#5-5-1-基本绘图plot-函数" class="headerlink" title="5.5.1　基本绘图plot()函数"></a>5.5.1　基本绘图plot()函数</h3><p>Matplotlib基本绘图主要使用plot()函数，语法如下：</p>
<p>matplotlib.pyplot.plot(x,y,format_string,**kwargs)<br>参数说明：　**</p>
<p>x：x轴数据。　</p>
<p>y：y轴数据。　</p>
<p>format_string：控制曲线格式的字符串，包括颜色、线条样式和标记样式。　</p>
<p>kwargs：键值参数，相当于一个字典，比如输入参数为(1,2,3,4,k,a&#x3D;1,b&#x3D;2,c&#x3D;3)，*args&#x3D;(1,2,3,4,k)，**kwargs&#x3D;{‘a’:’1,’b’:2,’c’:3}。</p>
<p>【示例03】　绘制简单折线图。（示例位置：资源包\MR\Code\05\03）<br>绘制简单的折线图，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022034804845.png" alt="image-20211022034804845"></p>
<p>运行程序，输出结果如图5.21所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022034902494.png" alt="image-20211022034902494"></p>
<p>​                                                                                     图5.21　简单折线图</p>
<p>【示例04】　绘制体温折线图。（示例位置：资源包\MR\Code\05\04）<br>示例03中数据是通过range()函数随机创建的。下面导入Excel体温表，分析下14天基础体温情况，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022034830689.png" alt="image-20211022034830689"></p>
<p>运行程序，输出结果如图5.22所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022034948585.png" alt="image-20211022034948585"></p>
<p>​                                                                                     图5.22　体温折线图<br>至此，您可能还是觉得图5.22中的图表不够完美，那么在接下来的学习中，我们将一步一步完善这张图表。下面介绍图表中线条颜色、线条样式和标记样式的设置。</p>
<h4 id="1．颜色设置"><a href="#1．颜色设置" class="headerlink" title="1．颜色设置"></a>1．颜色设置</h4><p>color参数可以设置线条颜色，通用颜色值如表5.1所示。</p>
<p>​                                                                                                表5.1　通用颜色</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022035138016.png" alt="image-20211022035138016"></p>
<p>其他颜色可以通过十六进制字符串指定，或者指定颜色名称，例如：　</p>
<p>浮点形式的RGB或RGBA元组，例如(0.1, 0.2, 0.5)或(0.1, 0.2, 0.5, 0.3)。　</p>
<p>十六进制的RGB或RGBA字符串，例如#0F0F0F或#0F0F0F0F。　</p>
<p>0～1的小数作为灰度值，例如0.5。　</p>
<p>{‘b’, ‘g’, ‘r’, ‘c’, ‘m’, ‘y’, ‘k’, ‘w’}，其中的一个颜色值。　</p>
<p>X11&#x2F;CSS4规定中的颜色名称。　</p>
<p>Xkcd中指定的颜色名称，例如xkcd:sky blue。　</p>
<p>Tableau调色板中的颜色，例如{‘tab:blue’, ‘tab:orange’, ‘tab:green’, ‘tab:red’, ‘tab:purple’, ‘tab:brown’,’tab:pink’, ‘tab:gray’, ‘tab:olive’, ‘tab:cyan’}。　</p>
<p>CN格式的颜色循环，对应的颜色设置代码如下：</p>
<p>01  from cycler import cycler<br>02  colors&#x3D;[‘#1f77b4’, ‘#ff7f0e’, ‘#2ca02c’, ‘#d62728’, ‘#9467bd’, ‘#8c564b’, ‘#e377c2’,’#7f7f7f’, ‘#bcbd22’, ‘#17becf’]<br>03  plt.rcParams[‘axes.prop_cycle’] &#x3D; cycler(color&#x3D;colors)</p>
<p>补充：</p>
<ol>
<li><p>matplotlib的依赖包cycler是matplotlib自主开发的属性组合包，功能与内置模块itertools很多函数非常相似，可用于创建特殊的迭代器。matpoltlib在属性设置底层中使用了cycler包，典型的案例就是在多数据系列绘图中循环使用颜色、线条等外观设置。使用cycler可以避免构造多重循环，更简便、灵活的组合属性。</p>
</li>
<li><p>plt（matplotlib.pyplot）使用rc配置文件来自定义图形的各种默认属性，称之为rc配置或rc参数。<br>通过rc参数可以修改默认的属性，包括窗体大小、每英寸的点数、线条宽度、颜色、样式、坐标轴、坐标和网络属性、文本、字体等。rc参数存储在字典变量中，通过字典的方式进行访问。</p>
<p>序号	属性	说明<br>1	plt.rcParams[’axes.unicode_minus’] &#x3D; False	字符显示<br>2	plt.rcParams[’font.sans-serif’] &#x3D; ‘SimHei’	设置字体<br>线条样式：lines	<br>3	plt.rcParams[’lines.linestyle’] &#x3D; ‘-.’	线条样式<br>4	plt.rcParams[’lines.linewidth’] &#x3D; 3	线条宽度<br>5	plt.rcParams[’lines.color’] &#x3D; ‘blue’	线条颜色<br>6	plt.rcParams[’lines.marker’] &#x3D; None	默认标记<br>7	plt.rcParams[’lines.markersize’] &#x3D; 6	标记大小<br>8	plt.rcParams[’lines.markeredgewidth’] &#x3D; 0.5	标记附近的线宽<br>横、纵轴：xtick、ytick	<br>9	plt.rcParams[’xtick.labelsize’]	横轴字体大小<br>10	plt.rcParams[’ytick.labelsize’]	纵轴字体大小<br>11	plt.rcParams[’xtick.major.size’]	x轴最大刻度<br>12	plt.rcParams[’ytick.major.size’]	y轴最大刻度<br>figure中的子图：axes	<br>13	plt.rcParams[’axes.titlesize’]	子图的标题大小<br>14	plt.rcParams[’axes.labelsize’]	子图的标签大小<br>图像、图片：figure、savefig	<br>15	plt.rcParams[’figure.dpi’]	图像分辨率<br>16	plt.rcParams[’figure.figsize’]	图像显示大小<br>17	plt.rcParams[’savefig.dpi’]	图片像素</p>
</li>
</ol>
<h4 id="2．线条样式"><a href="#2．线条样式" class="headerlink" title="2．线条样式"></a>2．线条样式</h4><p>linestyle可选参数可以设置线条的样式，设置值如下，设置后的效果如图5.23所示。　“-”：实线，默认值。　“–”：双画线　“-.”：点画线。　“:”：虚线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022041509943.png" alt="image-20211022041509943"></p>
<p>​                                                                                          图5.23　线条样式</p>
<p>线条属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th align="right">描述</th>
</tr>
</thead>
<tbody><tr>
<td>agg_filter</td>
<td align="right">a filter function, which takes a (m, n, 3) float array and a dpi value, and returns a (m, n, 3) array</td>
</tr>
<tr>
<td>alpha</td>
<td align="right">float or None</td>
</tr>
<tr>
<td>animated</td>
<td align="right">bool</td>
</tr>
<tr>
<td>antialiased or aa</td>
<td align="right">bool</td>
</tr>
<tr>
<td>clip_box</td>
<td align="right">Bbox</td>
</tr>
<tr>
<td>clip_on</td>
<td align="right">bool</td>
</tr>
<tr>
<td>clip_path</td>
<td align="right">Patch or (Path, Transform) or None</td>
</tr>
<tr>
<td>color or c</td>
<td align="right">color</td>
</tr>
<tr>
<td>contains</td>
<td align="right">unknown</td>
</tr>
<tr>
<td>dash_capstyle</td>
<td align="right">{‘butt’, ‘round’, ‘projecting’}</td>
</tr>
<tr>
<td>dash_joinstyle</td>
<td align="right">{‘miter’, ‘round’, ‘bevel’}</td>
</tr>
<tr>
<td>dashes</td>
<td align="right">sequence of floats (on&#x2F;off ink in points) or (None, None)</td>
</tr>
<tr>
<td>data</td>
<td align="right">(2, N) array or two 1D arrays</td>
</tr>
<tr>
<td>drawstyle or ds</td>
<td align="right">{‘default’, ‘steps’, ‘steps-pre’, ‘steps-mid’, ‘steps-post’}, default: ‘default’</td>
</tr>
<tr>
<td>figure</td>
<td align="right">Figure</td>
</tr>
<tr>
<td>fillstyle</td>
<td align="right">{‘full’, ‘left’, ‘right’, ‘bottom’, ‘top’, ‘none’}</td>
</tr>
<tr>
<td>gid</td>
<td align="right">str</td>
</tr>
<tr>
<td>in_layout</td>
<td align="right">bool</td>
</tr>
<tr>
<td>label</td>
<td align="right">object</td>
</tr>
<tr>
<td>linestyle or ls</td>
<td align="right">{’-’, ‘–’, ‘-.’, ‘:’, ‘’, (offset, on-off-seq), …}</td>
</tr>
<tr>
<td>linewidth or lw</td>
<td align="right">float</td>
</tr>
<tr>
<td>marker</td>
<td align="right">marker style string, Path or MarkerStyle</td>
</tr>
<tr>
<td>markeredgecolor or mec</td>
<td align="right">color</td>
</tr>
<tr>
<td>markeredgewidth or mew</td>
<td align="right">float</td>
</tr>
<tr>
<td>markerfacecolor or mfc</td>
<td align="right">color</td>
</tr>
<tr>
<td>markerfacecoloralt or mfcalt</td>
<td align="right">color</td>
</tr>
<tr>
<td>markersize or ms</td>
<td align="right">float</td>
</tr>
<tr>
<td>markevery</td>
<td align="right">None or int or (int, int) or slice or List[int] or float or (float, float) or List[bool]</td>
</tr>
<tr>
<td>path_effects</td>
<td align="right">AbstractPathEffect</td>
</tr>
<tr>
<td>picker</td>
<td align="right">unknown</td>
</tr>
<tr>
<td>pickradius</td>
<td align="right">float</td>
</tr>
<tr>
<td>rasterized</td>
<td align="right">bool or None</td>
</tr>
<tr>
<td>sketch_params</td>
<td align="right">(scale: float, length: float, randomness: float)</td>
</tr>
<tr>
<td>snap</td>
<td align="right">bool or None</td>
</tr>
<tr>
<td>solid_capstyle</td>
<td align="right">{‘butt’, ‘round’, ‘projecting’}</td>
</tr>
<tr>
<td>solid_joinstyle</td>
<td align="right">{‘miter’, ‘round’, ‘bevel’}</td>
</tr>
<tr>
<td>transform</td>
<td align="right">matplotlib.transforms.Transform</td>
</tr>
<tr>
<td>url</td>
<td align="right">str</td>
</tr>
<tr>
<td>visible</td>
<td align="right">bool</td>
</tr>
<tr>
<td>xdata</td>
<td align="right">1D array</td>
</tr>
<tr>
<td>ydata</td>
<td align="right">1D array</td>
</tr>
<tr>
<td>zorder</td>
<td align="right">float</td>
</tr>
</tbody></table>
<h4 id="3．标记样式"><a href="#3．标记样式" class="headerlink" title="3．标记样式"></a>3．标记样式</h4><p>marker可选参数可以设置标记样式，设置值如表5.2所示。</p>
<p>​                                                                                                   表5.2　标记设置</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022041541636.png" alt="image-20211022041541636"></p>
<p>下面为“14天基础体温曲线图”设置颜色和样式，并在实际体温位置进行标记，主要代码如下：</p>
<p>plt.plot(x,y,color&#x3D;’m’,linestyle&#x3D;’-‘,marker&#x3D;’o’,mfc&#x3D;’w’)</p>
<p>markerfacecolor or mfc：填充颜色</p>
<p>运行程序，输出结果如图5.24所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022041620444.png" alt="image-20211022041620444"></p>
<p>​                                                                                       图5.24　带标记的折线图</p>
<h3 id="5-5-2-设置画布"><a href="#5-5-2-设置画布" class="headerlink" title="5.5.2　设置画布"></a>5.5.2　设置画布</h3><p>画布就像我们画画的画板一样，在Matplotlib中可以使用figure()方法设置画布大小、分辨率、颜色和边框等，语法如下：</p>
<p>matpoltlib.pyplot.figure(num&#x3D;None, figsize&#x3D;None, dpi&#x3D;None, facecolor&#x3D;None, edgecolor&#x3D;None, frameon&#x3D;True)<br>参数说明：　</p>
<p>num：图像编号或名称，数字为编号，字符串为名称，可以通过该参数激活不同的画布。　</p>
<p>figsize：指定画布的宽和高，单位为英寸。　</p>
<p>dpi：指定绘图对象的分辨率，即每英寸多少个像素，默认值为80。像素越大画布越大。　</p>
<p>facecolor：背景颜色。　</p>
<p>edgecolor：边框颜色。　</p>
<p>frameon：是否显示边框，默认值为True，绘制边框；如果为False，则不绘制边框。</p>
<p>【示例05】　自定义画布。（示例位置：资源包\MR\Code\05\05）<br>自定义一个5×3的黄色画布，主要代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 fig&#x3D;plt.figure(figsize&#x3D;(5,3),facecolor&#x3D;’yellow’)<br>运行程序，输出结果如图5.25所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022041739742.png" alt="image-20211022041739742"></p>
<p>​                                                                                               图5.25　设置画布注意</p>
<p>注意</p>
<p>figsize&#x3D;(5,3)，因为实际画布大小是500×300，所以这里不要输入太大的数字。</p>
<h3 id="5-5-3-设置坐标轴"><a href="#5-5-3-设置坐标轴" class="headerlink" title="5.5.3　设置坐标轴"></a>5.5.3　设置坐标轴</h3><p>一张精确的图表，其中不免要用到坐标轴，下面介绍Matplotlib中坐标轴的使用。</p>
<h4 id="1．x轴、y轴标题"><a href="#1．x轴、y轴标题" class="headerlink" title="1．x轴、y轴标题"></a>1．x轴、y轴标题</h4><p>设置x轴和y轴标题主要使用xlabel()函数和ylabel()函数。</p>
<p>【示例06】　为体温折线图设置标题。（示例位置：资源包\MR\Code\05\06）<br>设置x轴标题为“2020年2月”，y轴标题为“基础体温”，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022041923078.png" alt="image-20211022041923078"></p>
<p>运行程序，输出结果如图5.26所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022041940811.png" alt="image-20211022041940811"></p>
<p>​                                                                                 图5.26　带坐标轴标题的折线图实用技巧<br>在本示例中，应注意两个问题，即中文乱码问题和符号不显示问题。它们在实际编程过程中经常出现。<br>（1）解决中文乱码问题，代码如下：</p>
<p>plt.rcParams[‘font.sans-serif’]&#x3D;[‘SimHei’]        #解决中文乱码</p>
<p>（2）解决负号不显示问题，代码如下：</p>
<p>plt.rcParams[‘axes.unicode_minus’] &#x3D; False       #解决负号不显示</p>
<h4 id="2．坐标轴刻度"><a href="#2．坐标轴刻度" class="headerlink" title="2．坐标轴刻度"></a>2．坐标轴刻度</h4><p>用matplotlib画二维图像时，默认情况下的横坐标（x轴）和纵坐标（y轴）显示的值有时可能达不到我们的需求，需要借助xticks()函数和yticks()函数分别对x轴和y轴的值进行设置。<br>xticks()函数的语法如下：</p>
<p>xticks(locs, [labels], **kwargs)<br>参数说明：　</p>
<p>locs：数组，表示x轴上的刻度。例如，在“学生英语成绩分布图”中，x轴的刻度是2～14的偶数，如果想改变这个值，就可以通过locs参数设置。　</p>
<p>labels：也是数组，默认值和locs相同。locs表示位置，而labels则决定该位置上的标签，如果赋予labels空值，则x轴将只有刻度而不显示任何值。</p>
<p>【示例07】　为折线图设置刻度1。（示例位置：资源包\MR\Code\05\07）<br>在“14天基础体温折线图”中，x轴是从2～14的偶数，但实际日期是从1～14的连续数字，下面使用xticks()函数来解决这个问题，将x轴的刻度设置为1～14的连续数字，主要代码如下：</p>
<p>plt.xticks(range(1,15,1))</p>
<p>【示例08】　为折线图设置刻度2。（示例位置：资源包\MR\Code\05\08）<br>在示例07中，日期看起来不是很直观。下面将x轴刻度标签直接改为日，主要代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042054424.png" alt="image-20211022042054424"></p>
<p>运行程序，对比效果如图5.27和图5.28所示。<br>接下来，设置y轴刻度，主要使用yticks()函数。例如，设置体温为35.4～38，主要代码如下：</p>
<p>plt.yticks([35.4,35.6,35.8,36,36.2,36.4,36.6,36.8,37,37.2,37.4,37.6,37.8,38])</p>
<h4 id="3．坐标轴范围"><a href="#3．坐标轴范围" class="headerlink" title="3．坐标轴范围"></a>3．坐标轴范围</h4><p>坐标轴范围是指x轴和y轴的取值范围。设置坐标轴范围主要使用xlim()函数和ylim()函数。</p>
<p>【示例09】　为折线图设置坐标范围。（示例位置：资源包\MR\Code\05\09）<br>设置x轴（日期）范围为1～14，y轴（基础体温）范围为35～45，主要代码如下：</p>
<p>01  plt.xlim(1,14)<br>02  plt.ylim(35,45)</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042147156.png" alt="image-20211022042147156"></p>
<p>​                                                                                           图5.27　更改x轴刻度</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042216153.png" alt="image-20211022042216153"></p>
<p>​                                                                                                图5.28　x轴刻度为日<br>运行程序，输出结果如图5.29所示。</p>
<h4 id="4．网格线"><a href="#4．网格线" class="headerlink" title="4．网格线"></a>4．网格线</h4><p>细节决定成败。很多时候为了图表的美观，不得不考虑细节。下面介绍图表细节之一——网格线，主要使用grid()函数，首先生成网格线，代码如下：</p>
<p>plt.grid()<br>grid()函数也有很多参数，如颜色、网格线的方向（参数axis&#x3D;’x’隐藏x轴网格线，axis&#x3D;’y’隐藏y轴网格线）、网格线样式和网格线宽度等。下面为图表设置网格线，主要代码如下：</p>
<p>plt.grid(color&#x3D;’0.5’,linestyle&#x3D;’–’,linewidth&#x3D;1)<br>运行程序，输出结果如图5.30所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042305653.png" alt="image-20211022042305653"></p>
<p>​                                                                                              图5.29　坐标轴范围</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042332316.png" alt="image-20211022042332316"></p>
<pre><code>                                                                                 图5.30　带网格线的折线图实用技巧
</code></pre>
<p>网格线对于饼形图来说，直接使用并不显示，需要与饼形图的frame参数配合使用，设置该参数值为True。详见饼形图。</p>
<h3 id="5-5-4-添加文本标签"><a href="#5-5-4-添加文本标签" class="headerlink" title="5.5.4　添加文本标签"></a>5.5.4　添加文本标签</h3><p>绘图过程中，为了能够更清晰、直观地看到数据，有时需要给图表中指定的数据点添加文本标签。下面介绍细节之二——文本标签，主要使用text()函数，语法如下：</p>
<p>matplotlib.pyplot.text(x, y, s, fontdict&#x3D;None, withdash&#x3D;False, **kwargs)<br>参数说明：　**</p>
<p>x：x坐标轴的值。　</p>
<p>y：y坐标轴的值。　</p>
<p>s：字符串，注释内容。　</p>
<p>ontdict：字典，可选参数，默认值为None。用于重写默认文本属性。　</p>
<p>withdash：布尔型，默认值为False，创建一个TexWithDash实例，而不是Text实例。　</p>
<p>kwargs：关键字参数。这里指通用的绘图参数，如字体大小fontsize&#x3D;12、垂直对齐方式horizontalalignment&#x3D;’center’（或简写为ha&#x3D;’center’）、水平对齐方式verticalalignment&#x3D;’center’（或简写为va&#x3D;’center’）。</p>
<p>【示例10】　为折线图添加基础体温文本标签。（示例位置：资源包\MR\Code\05\10）<br>为图表中各个数据点添加文本标签，关键代码如下：</p>
<p>01  for a,b  in zip(x,y):<br>02      plt.text(a,b+3,’%.1f’%b,ha &#x3D; ‘center’,va &#x3D; ‘bottom’,fontsize&#x3D;9)<br>运行程序，输出结果如图5.31所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042505594.png" alt="image-20211022042505594"></p>
<p>​                                                                                     图5.31　带文本标签的折线图<br>在本示例代码中，首先，x、y是x轴和y轴的值，它代表了折线图在坐标中的位置，通过for循环找到每一个x、y值相对应的坐标赋值给a、b，再使用plt.text在对应的数据点上添加文本标签，而for循环也保证了折线图中每一个数据点都有文本标签。其中，a,b+3表示每一个数据点（x值对应y值加3）的位置处添加文本标签；%.1f’%b是对y值进行的格式化处理，保留小数点1位；ha&#x3D;’center’、va&#x3D;’bottom’代表水平对齐、垂直对齐的方式，fontsize则是字体大小。</p>
<h3 id="5-5-5-设置标题和图例"><a href="#5-5-5-设置标题和图例" class="headerlink" title="5.5.5　设置标题和图例"></a>5.5.5　设置标题和图例</h3><p>数据是一个图表所要展示的内容，而有了标题和图例则可以帮助我们更好地理解这个图表的含义和想要传递的信息。下面介绍图表细节之三——标题和图例。</p>
<h4 id="1．图表标题"><a href="#1．图表标题" class="headerlink" title="1．图表标题"></a>1．图表标题</h4><p>为图表设置标题主要使用title()函数，语法如下：</p>
<p>matplotlib.pyplot.title(label, fontdict&#x3D;None, loc&#x3D;’center’, pad&#x3D;None, **kwargs)<br>参数说明：　</p>
<p>label：字符串，表示图表标题文本。　</p>
<p>fontdict：字典，用来设置标题字体的样式。如{‘fontsize’: 20,’fontweight’:20,’va’: ‘bottom’,’ha’:’center’}。　</p>
<p>loc：字符串，表示标题水平位置，参数值为center、left或right，分别表示水平居中、水平居左和水平居右，默认为水平居中。　</p>
<p>pad：浮点型，表示标题离图表顶部的距离，默认值为None。</p>
<p>**kwargs：关键字参数，可以设置一些其他文本属性。<br>例如，设置图表标题为“14天基础体温曲线图”，主要代码如下：</p>
<p>plt.title(‘14天基础体温曲线图’,fontsize&#x3D;’18’)</p>
<h4 id="2．图表图例"><a href="#2．图表图例" class="headerlink" title="2．图表图例"></a>2．图表图例</h4><p>为图表设置图例主要使用legend()函数。下面介绍图例相关的设置。<br>（1）自动显示图例</p>
<p>plt.legend()<br>（2）手动添加图例</p>
<p>plt.legend(‘基础体温’)注意<br>当手动添加图例时，有时会出现文本显示不全，解决方法是在文本后面加一个逗号（,），主要代码如下：</p>
<p>plt.legend((‘基础体温’,))<br>（3）设置图例显示位置<br>通过loc参数可以设置图例的显示位置，如在左下方显示，主要代码如下：</p>
<p>plt.legend((‘基础体温’,),loc&#x3D;’upper right’,fontsize&#x3D;10)<br>具体图例显示位置的设置如表5.3所示。</p>
<p>​                                                                                          表5.3　图例位置参数设置值</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042646532.png" alt="image-20211022042646532"></p>
<p>上述参数可以设置大概的图例位置，如果这样可以满足需求，那么第二个参数不设置也可以。第二个参数bbox_to_anchor是元组类型，包括两个值：num1用于控制legend的左右移动，值越大越向右边移动；num2用于控制legend的上下移动，值越大，越向上移动。这两个值用于微调图例的位置。<br>另外，通过该参数还可以设置图例位于图表外面，主要代码如下：</p>
<p>plt.legend(bbox_to_anchor&#x3D;(1.05, 1), loc&#x3D;2, borderaxespad&#x3D;0)<br>下面来看下设置标题和图例后的“14天基础体温曲线图”，效果如图5.32所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042736618.png" alt="image-20211022042736618"></p>
<p>​                                                                                   图5.32　14天基础体温曲线图</p>
<h3 id="5-5-6-添加注释"><a href="#5-5-6-添加注释" class="headerlink" title="5.5.6　添加注释"></a>5.5.6　添加注释</h3><p>annotate()函数用于在图表上给数据添加文本注释，而且支持带箭头的画线工具，方便我们在合适的位置添加描述信息。</p>
<p>【示例11】　为图表添加注释。（示例位置：资源包\MR\Code\05\11）<br>在“14天基础体温折线图”中用箭头指示最高体温，效果如图5.33所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042805728.png" alt="image-20211022042805728"></p>
<p>​                                                                                       图5.33　箭头指示最高体温<br>主要代码如下：</p>
<p>01 plt.annotate(‘最高体温’, xy&#x3D;(9,37.1), xytext&#x3D;(10.5,37.1),</p>
<p>02               xycoords&#x3D;’data’,<br>03               arrowprops&#x3D;dict(facecolor&#x3D;’r’, shrink&#x3D;0.05))<br>下面介绍一下本示例中用到的几个主要参数。　</p>
<p>xy：被注释的坐标点，二维元组，如(x,y)。　</p>
<p>xytext：注释文本的坐标点（也就是本示例中箭头的位置），也是二维元组，默认与xy相同。　</p>
<p>xycoords：是被注释点的坐标系属性，设置值如表5.4所示。</p>
<p>​                                                                                    表5.4　xycoords参数设置值　</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022042954410.png" alt="image-20211022042954410"></p>
<p>arrowprops：箭头的样式，dict（字典）型数据。如果该属性非空，则会在注释文本和被注释点之间画一个箭头。arrowprops参数设置值如表5.5所示。</p>
<p>​                                                                               表5.5　arrowprops参数设置值说明</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043118148.png" alt="image-20211022043118148"></p>
<p>关于annotate()函数的内容还有很多，这里不再赘述，感兴趣的读者可以以上述举例为基础，尝试更多的属性和样式。</p>
<h3 id="5-5-7-调整图表与画布边缘间距"><a href="#5-5-7-调整图表与画布边缘间距" class="headerlink" title="5.5.7　调整图表与画布边缘间距"></a>5.5.7　调整图表与画布边缘间距</h3><p>很多时候发现绘制出的图表出现显示不全的情况，其原因在于，x轴、y轴标题与画布边缘距离太近，如图5.34所示。<br>这种情况可以使用subplots_adjust()函数来调整，该函数主要用于调整图表与画布的间距，也可以调整子图表的间距。语法如下：</p>
<p>subplots_adjust(left&#x3D;None, bottom&#x3D;None,right&#x3D;None, top&#x3D;None,wspace&#x3D;None,hspace&#x3D;None)<br>参数说明：　left、bottom、right和top：这4个参数是用来调整上、下、左、右的空白，如图5.35所示。注意这里是从画布的左下角开始标记，取值为0～1。left和bottom值越小，则空白越少；而right和top值越大，则空白越少。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043238508.png" alt="image-20211022043238508"></p>
<p>​                                                                                          图5.34　显示不全的情况</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043308669.png" alt="image-20211022043308669"></p>
<p>​                                                                                      图5.35　调整间距示意图　</p>
<p>wspace和hspace：用于调整列间距和行间距。<br>举个简单的例子，调整图表上、下、左、右的空白，主要代码如下：</p>
<p>plt.subplots_adjust(left&#x3D;0.2, right&#x3D;0.9, top&#x3D;0.9, bottom&#x3D;0.2)<br>如果只显示图片，坐标轴及标题都不显示，可以使用如下代码：</p>
<p>plt.subplots_adjust(left&#x3D;0, bottom&#x3D;0, right&#x3D;1, top&#x3D;1,hspace&#x3D;0.1,wspace&#x3D;0.1)</p>
<h3 id="5-5-8-其他设置"><a href="#5-5-8-其他设置" class="headerlink" title="5.5.8　其他设置"></a>5.5.8　其他设置</h3><h4 id="1．坐标轴的刻度线"><a href="#1．坐标轴的刻度线" class="headerlink" title="1．坐标轴的刻度线"></a>1．坐标轴的刻度线</h4><p>（1）设置4个方向的坐标轴上的刻度线是否显示，主要代码如下：</p>
<p>plt.tick_params(bottom&#x3D;False,left&#x3D;True,right&#x3D;True,top&#x3D;True)<br>（2）设置x轴和y轴的刻度线显示方向，其中in表示向内，out表示向外，inout表示在中间，默认刻度线向外，主要代码如下：</p>
<p>plt.rcParams[‘xtick.direction’] &#x3D; ‘in’         #x轴的刻度线向内显示<br>plt.rcParams[‘ytick.direction’] &#x3D; ‘in’         #y轴的刻度线向内显示</p>
<h4 id="2．坐标轴相关属性设置"><a href="#2．坐标轴相关属性设置" class="headerlink" title="2．坐标轴相关属性设置"></a>2．坐标轴相关属性设置</h4><p>axis()：返回当前axes范围。　</p>
<p>axis(v)：通过输入v &#x3D; [xmin, xmax, ymin, ymax]，设置x、y轴的取值范围。　</p>
<p>axis(‘off’)：关闭坐标轴轴线及坐标轴标签。　</p>
<p>axis(‘equal’)：使x、y轴长度一致。　</p>
<p>axis(‘scaled’)：调整图框的尺寸（而不是改变坐标轴取值范围），使x、y轴长度一致。　</p>
<p>axis(‘tight’)：改变x轴和y轴的限制，使所有数据被展示。如果所有的数据已经显示，它将移动到图形的中心而不修改（xmax～xmin）或（ymax～ymin）。　</p>
<p>axis(‘image’)：缩放axis范围（limits），等同于对data缩放范围。　</p>
<p>axis(‘auto’)：自动缩放。　</p>
<p>axis(‘normal’)：不推荐使用。恢复默认状态，轴限的自动缩放以使数据显示在图表中。</p>
<h2 id="5-6-常用图表的绘制"><a href="#5-6-常用图表的绘制" class="headerlink" title="5.6　常用图表的绘制"></a>5.6　常用图表的绘制</h2><p>本节介绍常用图表的绘制，主要包括绘制折线图、绘制柱形图、绘制直方图、绘制饼形图、绘制散点图、绘制面积图、绘制热力图、绘制箱形图、绘3D图表、绘制多个子图表以及图表的保存。对于常用的图表类型以绘制多种类型图表进行举例，以适应不同应用场景的需求。</p>
<h3 id="5-6-1-绘制折线图"><a href="#5-6-1-绘制折线图" class="headerlink" title="5.6.1　绘制折线图"></a>5.6.1　绘制折线图</h3><p>折线图可以显示随时间而变化的连续数据，因此非常适用于显示在相等时间间隔下数据的趋势。如基础体温曲线图、学生成绩走势图、股票月成交量走势图，月销售统计分析图、微博、公众号、网站访问量统计图等都可以用折线图体现。在折线图中，类别数据沿水平轴均匀分布，所有值数据沿垂直轴均匀分布。<br>Matplotlib绘制折线图主要使用plot()函数，相信通过前面的学习，您已经了解了plot()函数的基本用法，并能够绘制一些简单的折线图，下面尝试绘制多折线图。</p>
<p>【示例12】　绘制学生语数外各科成绩分析图。（示例位置：资源包\MR\Code\05\12）<br>使用plot()函数绘制多折线图。例如，绘制学生语数外各科成绩分析图，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043506478.png" alt="image-20211022043506478"></p>
<p>运行程序，输出结果如图5.36所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043526985.png" alt="image-20211022043526985"></p>
<p>​                                                                                               图5.36　多折线图<br>上述举例，用到了几个参数，下面进行说明。</p>
<p>mfc：标记的颜色。　</p>
<p>ms：标记的大小。　</p>
<p>mec：标记边框的颜色。　</p>
<p>alpha：透明度，设置该参数可以改变颜色的深浅。</p>
<h3 id="5-6-2-绘制柱形图"><a href="#5-6-2-绘制柱形图" class="headerlink" title="5.6.2　绘制柱形图"></a>5.6.2　绘制柱形图</h3><p>柱形图，又称长条图、柱状图、条状图等，是一种以长方形的长度为变量的统计图表。柱形图用来比较两个或两个以上的数据（不同时间或者不同条件），只有一个变量，通常用于较小的数据集分析。<br>Matplotlib绘制柱形图主要使用bar()函数，语法如下：</p>
<p>matplotlib.pyplot.bar(x,height,width,bottom&#x3D;None,*,align&#x3D;’center’,data&#x3D;None,**kwargs)<br>参数说明：　**</p>
<p>x：x轴数据。　</p>
<p>height：柱子的高度，也就是y轴数据。　</p>
<p>width：浮点型，柱子的宽度，默认值为0.8，可以指定固定值。　</p>
<p>bottom：标量或数组，可选参数，柱形图的y坐标，默认值为None。　</p>
<p>*：星号本身不是参数。星号表示其后面的参数为命名关键字参数，命名关键字参数必须传入参数名；否则程序会出现错误。　</p>
<p>align：对齐方式，如center（居中）和edge（边缘），默认值为center。　</p>
<p>data：data关键字参数。如果给定一个数据参数，所有位置和关键字参数将被替换。　</p>
<p>kwargs：关键字参数，其他可选参数，如color（颜色）、alpha（透明度）、label（每个柱子显示的标签）等。</p>
<p>【示例13】　4行代码绘制简单的柱形图。（示例位置：资源包\MR\Code\05\13）<br>4行代码绘制简单的柱形图，程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 x&#x3D;[1,2,3,4,5,6]</p>
<p>03 height&#x3D;[10,20,30,40,50,60]<br>04 plt.bar(x,height)<br>运行程序，输出结果如图5.37所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043752815.png" alt="image-20211022043752815"></p>
<p>​                                                                                     图5.37　简单柱形图<br>bar()函数可以绘制出各种类型的柱形图，如基本柱形图、多柱形图、堆叠柱形图，只要将bar()函数的主要参数理解透彻，就会达到意想不到的效果。下面介绍几种常见的柱形图。</p>
<h4 id="1．基本柱形图"><a href="#1．基本柱形图" class="headerlink" title="1．基本柱形图"></a>1．基本柱形图</h4><p>【示例14】　绘制2013—2019年线上图书销售额分析图。（示例位置：资源包\MR\Code\05\14）<br>使用bar()函数绘制“2013—2019年线上图书销售额分析图”，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043825693.png" alt="image-20211022043825693"></p>
<p>运行程序，输出结果如图5.38所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043843723.png" alt="image-20211022043843723"></p>
<p>​                                                                                                 图5.38　基本柱形图</p>
<p>本示例应用了前面所学习的知识，例如标题、图例、文本标签和坐标轴标签等。</p>
<h4 id="2．多柱形图"><a href="#2．多柱形图" class="headerlink" title="2．多柱形图"></a>2．多柱形图</h4><p>【示例15】　绘制各平台图书销售额分析图。（示例位置：资源包\MR\Code\05\15）<br>对于线上图书销售额的统计，如果要统计各个平台的销售额，可以使用多柱形图，不同颜色的柱子代表不同的平台，如京东、天猫、自营等，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022043936078.png" alt="image-20211022043936078"></p>
<p>在本示例中，柱形图中若显示n个柱子，则柱子宽度值需小于1&#x2F;n；否则柱子会出现重叠现象。<br>运行程序，输出结果如图5.39所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044011167.png" alt="image-20211022044011167"></p>
<p>​                                                                                                  图5.39　多柱形图</p>
<h3 id="5-6-3-绘制直方图"><a href="#5-6-3-绘制直方图" class="headerlink" title="5.6.3　绘制直方图"></a>5.6.3　绘制直方图</h3><p>直方图，又称质量分布图，由一系列高度不等的纵向条纹或线段表示数据分布的情况。一般用横轴表示数据类型，纵轴表示分布情况。直方图是数值数据分布的精确图形表示，是一个连续变量（定量变量）的概率分布的估计。<br>绘制直方图主要使用hist()函数，语法如下：</p>
<p>matplotlib.pyplot.hist(x,bins&#x3D;None,range&#x3D;None, density&#x3D;None, bottom&#x3D;None, histtype&#x3D;’bar’, align&#x3D;’mid’, log&#x3D;<br>False, color&#x3D;None, label&#x3D;None, stacked&#x3D;False, normed&#x3D;None)<br>参数说明：　</p>
<p>x：数据集，最终的直方图将对数据集进行统计。　</p>
<p>bins：统计数据的区间分布。　</p>
<p>range：元组类型，显示的区间。　</p>
<p>density：布尔型，显示频率统计结果，默认值为None。设置值为False，不显示频率统计结果；设置值为True，则显示频率统计结果。需要注意，频率统计结果&#x3D;区间数目&#x2F;(总数×区间宽度)。　</p>
<p>histtype：可选参数，设置值为bar、barstacked、step或stepfilled，默认值为bar，推荐使用默认配置，其中step使用的是梯状，stepfilled则会对梯状内部进行填充，效果与bar类似。　</p>
<p>align：可选参数，控制柱状图的水平分布，设置值为left、mid或right，默认值为mid，其中，left或者right会有部分空白区域，推荐使用默认值。　</p>
<p>log：布尔型，默认值为False，即y坐标轴是否选择指数刻度。</p>
<p>stacked：布尔型，默认值为False，是否为堆积柱状图。</p>
<p>【示例16】　绘制简单直方图。（示例位置：资源包\MR\Code\05\16）<br>绘制简单直方图，程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 x&#x3D;[22,87,5,43,56,73,55,54,11,20,51,5,79,31,27]<br>03 plt.hist(x, bins &#x3D; [0,25,50,75,100])<br>运行程序，输出结果如图5.40所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044122751.png" alt="image-20211022044122751"></p>
<p>​                                                                                          图5.40　简单直方图</p>
<p>【示例17】　直方图分析学生数学成绩分布情况。（示例位置：资源包\MR\Code\05\17）<br>再举一个例子，通过直方图分析学生数学成绩分布情况，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044146025.png" alt="image-20211022044146025"></p>
<p>运行程序，输出结果如图5.41所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044204373.png" alt="image-20211022044204373"></p>
<pre><code>                                                                            图5.41　数学成绩分布直方图
</code></pre>
<p>上述举例，通过直方图可以清晰地看到高一数学成绩分布情况。基本呈现正态分布，两边低中间高，高分段学生缺失，说明试卷有难度。那么，通过直方图还可以分析以下内容。<br>（1）对学生进行比较。呈正态分布的测验便于选拔优秀，甄别落后，通过直方图一目了然。<br>（2）确定人数和分数线。测验成绩符合正态分布可以帮助等级评定时确定人数和估计分数段内的人数，确定录取分数线、各学科的优生率等。<br>（3）测验试题难度。</p>
<h3 id="5-6-4-绘制饼形图"><a href="#5-6-4-绘制饼形图" class="headerlink" title="5.6.4　绘制饼形图"></a>5.6.4　绘制饼形图</h3><p>饼形图常用来显示各个部分在整体中所占的比例。例如，在工作中如果遇到需要计算总费用或金额的各个部分构成比例的情况，一般通过各个部分与总额相除来计算，而且这种比例表示方法很抽象，而通过饼形图将直接显示各个组成部分所占比例，一目了然。<br>Matplotlib绘制饼形图主要使用pie()函数，语法如下：</p>
<p>matplotlib.pyplot.pie(x,explode&#x3D;None,labels&#x3D;None,colors&#x3D;None,autopct&#x3D;None,pctdistance&#x3D;0.6,shadow&#x3D;False,<br>labeldistance&#x3D;1.1,startangle&#x3D;None,radius&#x3D;None,counterclock&#x3D;True,wedgeprops&#x3D;None,textprops&#x3D;None,center&#x3D;<br>(0, 0), frame&#x3D;False, rotatelabels&#x3D;False, hold&#x3D;None, data&#x3D;None)<br>参数说明：　</p>
<p>x：每一块饼图的比例，如果sum(x)&gt;1会使用sum(x)归一化。　</p>
<p>explode：每一块饼图离中心的距离。　</p>
<p>labels：每一块饼图外侧显示的说明文字。　</p>
<p>autopct：设置饼图百分比，可以使用格式化字符串或format()函数。如’%1.1f ‘保留小数点前后1位。　</p>
<p>pctdistance：类似于labeldistance参数，指定百分比的位置刻度，默认值为0.6。　</p>
<p>shadow：在饼图下面画一个阴影，默认值为False，即不画阴影。　</p>
<p>labeldistance：标记的绘制位置，相对于半径的比例，默认值为1.1，如&lt;1则绘制在饼图内侧。　</p>
<p>startangle：起始绘制角度，默认是从x轴正方向逆时针画起，如设置值为90则从y轴正方向画起。　</p>
<p>radius：饼图半径，默认值为1。　</p>
<p>counterclock：指定指针方向，布尔型，可选参数。默认值为True，表示逆时针；如果值为False，则表示顺时针。　</p>
<p>wedgeprops：字典类型，可选参数，默认值为None。字典传递给wedge对象，用来画一个饼图。例如wedgeprops&#x3D;{‘linewidth’:2}设置wedge线宽为2。　</p>
<p>textprops：设置标签和比例文字的格式，字典类型，可选参数，默认值为None。传递给text对象的字典参数。　</p>
<p>center：浮点类型的列表，可选参数，默认值为(0,0)，表示图表中心位置。　</p>
<p>frame：布尔型，可选参数，默认值为False，不显示轴框架（也就是网格）；如果值为True，则显示轴框架，与grid()函数配合使用。实际应用中建议使用默认设置，因为显示轴框架会干扰饼形图效果。　</p>
<p>rotatelabels：布尔型，可选参数，默认值为False；如果值为True，则旋转每个标签到指定的角度。</p>
<p>【示例18】　绘制简单饼形图。（示例位置：资源包\MR\Code\05\18）<br>绘制简单饼形图，程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 x &#x3D; [2,5,12,70,2,9]<br>03 plt.pie(x,autopct&#x3D;’%1.1f%%’)<br>运行程序，输出结果如图5.42所示。<br>饼形图也存在各种类型，主要包括基础饼形图、分裂饼形图、立体感带阴影的饼形图、环形图等。下面分别进行介绍。</p>
<h4 id="1．基础饼形图"><a href="#1．基础饼形图" class="headerlink" title="1．基础饼形图"></a>1．基础饼形图</h4><p>【示例19】　通过饼形图分析各地区销量占比情况。（示例位置：资源包\MR\Code\05\19）<br>下面通过饼形图分析2020年1月各地区销量占比情况，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044422975.png" alt="image-20211022044422975"></p>
<p>运行程序，输出结果如图5.43所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044438588.png" alt="image-20211022044438588"></p>
<p>​                                                                                              图5.42　简单饼形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044506316.png" alt="image-20211022044506316"></p>
<p>​                                                                                                图5.43　基础饼形图</p>
<h4 id="2．分裂饼形图"><a href="#2．分裂饼形图" class="headerlink" title="2．分裂饼形图"></a>2．分裂饼形图</h4><p>分裂饼形图是将您认为主要的饼图部分分裂出来，以达到突出显示的目的。</p>
<p>【示例20】　绘制分裂饼形图。（示例位置：资源包\MR\Code\05\20）<br>将销量占比最多的广东省分裂显示，效果如图5.44（a）所示。分裂饼形图可以同时分裂多块，效果如图5.44（b）所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044615077.png" alt="image-20211022044615077"></p>
<p>​                                                                                               图5.44　分裂饼形图<br>分裂饼形图主要通过设置explode参数实现，该参数用于设置饼图距中心的距离，我们需要将哪块饼图分裂出来，就设置它与中心的距离即可。例如，图5.43中有10块饼图，我们将占比最多的“广东省”分裂出来，如图5.44（a）所示。广东省在第一位，那么就设置第一位距中心的距离为0.1，其他为0，关键代码如下：</p>
<p>explode &#x3D; (0.1,0,0,0,0,0,0,0,0,0)</p>
<h4 id="3．立体感带阴影的饼形图"><a href="#3．立体感带阴影的饼形图" class="headerlink" title="3．立体感带阴影的饼形图"></a>3．立体感带阴影的饼形图</h4><p>立体感带阴影的饼形图看起来更美观，效果如图5.45所示。<br>立体感带阴影的饼形图主要通过shadow参数实现，设置该参数值为True即可，主要代码如下：</p>
<p>shadow&#x3D;True</p>
<h4 id="4．环形图"><a href="#4．环形图" class="headerlink" title="4．环形图"></a>4．环形图</h4><p>【示例21】　环形图分析各地区销量占比情况。（示例位置：资源包\MR\Code\05\21）<br>环形图是由两个及两个以上大小不一的饼图叠在一起，挖去中间的部分所构成的图形，效果如图5.46所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044639552.png" alt="image-20211022044639552"></p>
<p>​                                                                                图5.45　立体感带阴影的饼形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044721819.png" alt="image-20211022044721819"></p>
<p>​                                                                                                              图5.46　环形图<br>这里还是通过pie()函数实现，一个关键参数wedgeprops，字典类型，用于设置饼形图内、外边界的属性，如环的宽度，环边界颜色和宽度，主要代码如下：</p>
<p>wedgeprops &#x3D; {‘width’: 0.4, ‘edgecolor’: ‘k’}</p>
<h4 id="5．内嵌环形图"><a href="#5．内嵌环形图" class="headerlink" title="5．内嵌环形图"></a>5．内嵌环形图</h4><p>【示例22】　内嵌环形图分析各地区销量占比情况。（示例位置：资源包\MR\Code\05\22）<br>内嵌环形图实际是双环形图，效果如图5.47所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044800617.png" alt="image-20211022044800617"></p>
<p>​                                                                                             图5.47　内嵌环形图<br>绘制内嵌环形图需要注意以下3点。<br>（1）连续使用两次pie()函数。<br>（2）通过wedgeprops参数设置环形边界。<br>（3）通过radius参数设置不同的半径。<br>另外，由于图例内容比较长，为了使图例能够正常显示，图例代码中引入了两个主要参数，即frameon和bbox_to_anchor。其中，frameon参数设置图例有无边框；bbox_to_anchor参数设置图例位置，主要代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022044933255.png" alt="image-20211022044933255"></p>
<h3 id="5-6-5-绘制散点图"><a href="#5-6-5-绘制散点图" class="headerlink" title="5.6.5　绘制散点图"></a>5.6.5　绘制散点图</h3><p>散点图主要用来查看数据的分布情况或相关性，一般用在线性回归分析中，查看数据点在坐标系平面上的分布情况。散点图表示因变量随自变量而变化的大致趋势，据此可以选择合适的函数对数据点进行拟合。<br>散点图与折线图类似，也是一个个点构成的。但不同之处在于，散点图的各点之间不会按照前后关系以线条连接起来。<br>Matplotlib绘制散点图使用plot()函数和scatter()函数都可以实现，本节使用scatter()函数绘制散点图，scatter()函数专门用于绘制散点图，使用方式和plot()函数类似，区别在于前者具有更高的灵活性，可以单独控制每个散点与数据匹配，并让每个散点具有不同的属性。scatter()函数的语法如下：</p>
<p>matplotlib.pyplot.scatter(x,y,s&#x3D;None,c&#x3D;None,marker&#x3D;None,cmap&#x3D;None,norm&#x3D;None,vmin&#x3D;None,vmax&#x3D;None,<br>alpha&#x3D;None,linewidths&#x3D;None,verts&#x3D;None,edgecolors&#x3D;None,data&#x3D;None, **kwargs)<br>参数说明：　</p>
<p>x，y：数据。　</p>
<p>​		s：标记大小，以平方磅为单位的标记面积，设置值如下。　</p>
<p>​		数值标量：以相同的大小绘制所有标记。　</p>
<p>​		行或列向量：使每个标记具有不同的大小。x、y和sz中的相应元素确定每个标记的位置和面积。sz的长度必须等于x和y的长度。　</p>
<p>​		[]：使用36平方磅的默认面积。　</p>
<p>c：标记颜色，可选参数，默认标记颜色为蓝色。　</p>
<p>marker：标记样式，可选参数，默认值为’o’。　</p>
<p>cmap：颜色地图，可选参数，默认值为None。　</p>
<p>norm：可选参数，默认值为None</p>
<p>vmin，vmax：标量，可选，默认值为None　alpha：透明度，可选参数，0～1的数，表示透明度，默认值为None。　</p>
<p>linewidths：线宽，标记边缘的宽度，可选参数，默认值为None。　</p>
<p>verts：(x,y)的序列，可选参数，如果参数marker为None，这些顶点将用于构建标记。标记的中心位置为(0,0)。　</p>
<p>edgecolors：轮廓颜色，与参数c类似，可选参数，默认值为None。　</p>
<p>data：data关键字参数。如果给定一个数据参数，所有位置和关键字参数将被替换。　</p>
<p>**kwargs：关键字参数，其他可选参数。</p>
<p>【示例23】　绘制简单散点图。（示例位置：资源包\MR\Code\05\23）<br>绘制简单散点图，程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 x&#x3D;[1,2,3,4,5,6]<br>03 y&#x3D;[19,24,37,43,55,68]<br>04 plt.scatter(x, y)<br>运行程序，输出结果如图5.48所示。</p>
<p>【示例24】　散点图分析销售收入与广告费的相关性。（示例位置：资源包\MR\Code\05\24）<br>接下来，绘制销售收入与广告费散点图，用以观察销售收入与广告费的相关性，主要代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045035911.png" alt="image-20211022045035911"></p>
<p>运行程序，输出结果如图5.49所示</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045051433.png" alt="image-20211022045051433"></p>
<p>​                                                                                          图5.48　简单散点图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045135206.png" alt="image-20211022045135206"></p>
<p>​                                                                              图5.49　销售收入与广告费散点图</p>
<h3 id="5-6-6-绘制面积图"><a href="#5-6-6-绘制面积图" class="headerlink" title="5.6.6　绘制面积图"></a>5.6.6　绘制面积图</h3><p>面积图用于体现数量随时间而变化的程度，也可用于引起人们对总值趋势的注意。例如，表示随时间而变化的利润的数据可以绘制在面积图中，以强调总利润。<br>Matplotlib绘制面积图主要使用stackplot()函数，语法如下：</p>
<p>matplotlib.pyplot.stackplot(x,*args,data&#x3D;None,**kwargs)<br>参数说明：　**</p>
<p>x：x轴数据。　</p>
<p><em>args：当传入的参数个数未知时使用</em>args。这里指y轴数据可以传入多个y轴。　</p>
<p>data：data关键字参数。如果给定一个数据参数，所有位置和关键字参数将被替换。　</p>
<p>kwargs：关键字参数，其他可选参数，如color（颜色）、alpha（透明度）等。</p>
<p>【示例25】　绘制简单面积图。（示例位置：资源包\MR\Code\05\25）<br>绘制简单面积图，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045229225.png" alt="image-20211022045229225"></p>
<p>运行程序，输出结果如图5.50所示。<br>面积图也有很多种，如标准面积图、堆叠面积图和百分比堆叠面积图等。下面主要介绍标准面积图和堆叠面积图。</p>
<h4 id="1．标准面积图"><a href="#1．标准面积图" class="headerlink" title="1．标准面积图"></a>1．标准面积图</h4><p>【示例26】　面积图分析线上图书销售情况。（示例位置：资源包\MR\Code\05\26）<br>通过标准面积图分析2013—2019年线上图书销售情况，通过该图可以看出每一年线上图书销售的一个趋势，效果如图5.51所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045332684.png" alt="image-20211022045332684"></p>
<p>​                                                                                          图5.50　简单面积图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045356189.png" alt="image-20211022045356189"></p>
<p>​                                                                                           图5.51　标准面积图<br>程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045417324.png" alt="image-20211022045417324"></p>
<h4 id="2．堆叠面积图"><a href="#2．堆叠面积图" class="headerlink" title="2．堆叠面积图"></a>2．堆叠面积图</h4><p>【示例27】　堆叠面积图分析各平台图书销售情况。（示例位置：资源包\MR\Code\05\27）<br>通过堆叠面积图分析2013—2019年线上各平台图书销售情况。堆叠面积图不仅可以看到各平台每年销售变化趋势，通过将各平台数据堆叠到一起还可以看到整体的变化趋势，效果如图5.52所示。<br>实现堆叠面积图的关键在于增加y轴，通过增加多个y轴数据，形成堆叠面积图，主要代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045506121.png" alt="image-20211022045506121"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045521071.png" alt="image-20211022045521071"></p>
<p>​                                                                                                  图5.52　堆叠面积图</p>
<h3 id="5-6-7-绘制热力图"><a href="#5-6-7-绘制热力图" class="headerlink" title="5.6.7　绘制热力图"></a>5.6.7　绘制热力图</h3><p>热力图是通过密度函数进行可视化用于表示地图中点的密度的热图。它使人们能够独立于缩放因子感知点的密度。热力图可以显示不可点击区域发生的事情。利用热力图可以看数据表里多个特征两两的相似度。例如，以特殊高亮的形式显示访客热衷的页面区域和访客所在的地理区域的图示。热力图在网页分析、业务数据分析等其他领域也有较为广泛的应用。</p>
<p>【示例28】　绘制简单热力图。（示例位置：资源包\MR\Code\05\28）<br>热力图是数据分析的常用方法，通过色差、亮度来展示数据的差异，易于理解。下面绘制简单热力图，程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 X &#x3D; [[1,2],[3,4],[5,6],[7,8],[9,10]]<br>03 plt.imshow(X)<br>运行程序，输出结果如图5.53所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045548445.png" alt="image-20211022045548445"></p>
<p>​                                                                                              图5.53　简单热力图</p>
<p>上述代码中，plt.imshow(X)中传入的数组X&#x3D;[[1,2],[3,4],[5,6],[7,8],[9,10]]为颜色的对应值，按照矩阵X进行颜色分布，如左上角颜色为深蓝，其对应值为1，右下角颜色为黄色，其对应值为10，具体如下：</p>
<p>[1,2]  [深蓝,蓝色]<br>[3,4]  [蓝绿,深绿]<br>[5,6]  [海藻绿,春绿色]<br>[7,8]  [绿色,浅绿色]<br>[9,10] [草绿色,黄色]</p>
<p>【示例29】　热力图对比分析学生各科成绩。（示例位置：资源包\MR\Code\05\29）<br>根据学生成绩统计数据绘制热力图，通过热力图可清晰直观地对比每名学生各科成绩的高低。程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045644366.png" alt="image-20211022045644366"></p>
<p>运行程序，输出结果如图5.54所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045702905.png" alt="image-20211022045702905"></p>
<p>​                                                                                        图5.54　学生成绩统计热力图<br>从图5.54中可以看到，颜色以高亮显示的，成绩越高；反之，成绩越低。</p>
<h3 id="5-6-8-绘制箱形图"><a href="#5-6-8-绘制箱形图" class="headerlink" title="5.6.8　绘制箱形图"></a>5.6.8　绘制箱形图</h3><p>箱形图又称箱线图、盒须图或盒式图，它是一种用作显示一组数据分散情况下的资料的统计图。因形状像箱子而得名。箱形图最大的优点就是不受异常值的影响（异常值也称为离群值），可以以一种相对稳定的方式描述数据的离散分布情况，因此在各种领域也经常被使用。另外，箱形图也常用于异常值的识别。Matplotlib绘制箱形图主要使用boxplot()函数，语法如下：</p>
<p>matplotlib.pyplot.boxplot(x,notch&#x3D;None,sym&#x3D;None,vert&#x3D;None,whis&#x3D;None,positions&#x3D;None,widths&#x3D;None,patch_<br>artist&#x3D;None,meanline&#x3D;None,showmeans&#x3D;None,showcaps&#x3D;None,showbox&#x3D;None,showfliers&#x3D;None,boxprops&#x3D;None,<br>labels&#x3D;None,flierprops&#x3D;None,medianprops&#x3D;None,meanprops&#x3D;None,capprops&#x3D;None,whiskerprops&#x3D;None)<br>参数说明：　</p>
<p>x：指定要绘制箱形图的数据。　</p>
<p>notch：是否以凹口的形式展现箱形图，默认非凹口。　</p>
<p>sym：指定异常点的形状，默认为加号（+）显示。　</p>
<p>vert：是否需要将箱形图垂直摆放，默认垂直摆放。　</p>
<p>whis：指定上下限与上下四分位的距离，默认为1.5倍的四分位差。　</p>
<p>positions：指定箱形图的位置，默认为[0,1,2,…]。　</p>
<p>widths：指定箱形图的宽度，默认为0.5。　</p>
<p>patch_artist：是否填充箱体的颜色。　</p>
<p>meanline：是否用线的形式表示均值，默认用点来表示。　</p>
<p>showmeans：是否显示均值，默认不显示。　</p>
<p>showcaps：是否显示箱形图顶端和末端的两条线，默认显示。　</p>
<p>showbox：是否显示箱形图的箱体，默认显示。　</p>
<p>showfliers：是否显示异常值，默认显示。　</p>
<p>boxprops：设置箱体的属性，如边框色、填充色等。　</p>
<p>labels：为箱形图添加标签，类似于图例的作用。　</p>
<p>filerprops：设置异常值的属性，如异常点的形状、大小、填充色等。　</p>
<p>medianprops：设置中位数的属性，如线的类型、粗细等。　meanprops：设置均值的属性，如点的大小、颜色等。</p>
<p>capprops：设置箱形图顶端和末端线条的属性，如颜色、粗细等。　</p>
<p>whiskerprops：设置须的属性，如颜色、粗细、线的类型等。</p>
<p>【示例30】　绘制简单箱形图。（示例位置：资源包\MR\Code\05\30）<br>绘制简单箱形图，程序代码如下：</p>
<p>01  import matplotlib.pyplot as plt<br>02  x&#x3D;[1,2,3,5,7,9]<br>03  plt.boxplot(x)<br>运行程序，输出结果如图5.55所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045845005.png" alt="image-20211022045845005"></p>
<p>​                                                                                              图5.55　简单箱形图</p>
<p>【示例31】　绘制多组数据的箱形图。（示例位置：资源包\MR\Code\05\31）<br>上述举例是一组数据的箱形图，还可以绘制多组数据的箱形图，需要指定多组数据。例如，为三组数据绘制箱形图，程序代码如下：</p>
<p>01 import matplotlib.pyplot as plt<br>02 x1&#x3D;[1,2,3,5,7,9]<br>03 x2&#x3D;[10,22,13,15,8,19]<br>04 x3&#x3D;[18,31,18,19,14,29]<br>05 plt.boxplot([x1,x2,x3])<br>运行程序，输出结果如图5.56所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022045922170.png" alt="image-20211022045922170"></p>
<p>​                                                                                       图5.56　多组数据的箱形图<br>箱形图将数据切割分离（实际上就是将数据分为4大部分），如图5.57所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050015245.png" alt="image-20211022050015245"></p>
<p>​                                                                               图5.57　箱形图组成<br>下面介绍箱形图每部分具体含义以及如何通过箱形图识别异常值。　</p>
<p>下四分位<br>        图5.57中的下四分位数指的是数据的25%分位点所对应的值（Q1）。计算分位数可以使用Pandas的quantile()函数。例如，Q1 &#x3D; df[‘总消费’].quantile(q &#x3D; 0.25)。　</p>
<p>中位数<br>        中位数即为数据的50%分位点所对应的值（Q2）。　</p>
<p>上四分位数<br>        上四分位数则为数据的75%分位点所对应的值（Q3）。　</p>
<p>上限<br>        上限的计算公式为Q3+1.5(Q3-Q1)。　</p>
<p>下限<br>        下限的计算公式为Q1-1.5(Q3-Q1)。其中，Q3-Q1表示四分位差。如果使用箱形图识别异常值，其判断标准是，当变量的数据值大于箱形图的上限或者小于箱线图的下限时，就可以将这样的数据判定为异常值。<br>下面了解一下判断异常值的算法，如图5.58所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050132143.png" alt="image-20211022050132143"></p>
<p>​                                                                                      图5.58　异常值判断标准</p>
<p>【示例32】　通过箱形图判断异常值。（示例位置：资源包\MR\Code\05\32）<br>通过箱形图查找客人总消费数据中存在的异常值，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050217773.png" alt="image-20211022050217773"></p>
<p>运行程序，输出结果如图5.59和图5.60所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050241397.png" alt="image-20211022050241397"></p>
<p>​                                                                                                      图5.59　箱形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050303942.png" alt="image-20211022050303942"></p>
<p>​                                                                                          图5.60　异常值</p>
<h3 id="5-6-9-绘制3D图表"><a href="#5-6-9-绘制3D图表" class="headerlink" title="5.6.9　绘制3D图表"></a>5.6.9　绘制3D图表</h3><p>3D图表有立体感也比较美观，看起来更加“高大上”。下面介绍两种3D图表，即三维柱形图和三维曲面图。</p>
<p>绘制3D图表，我们仍使用Matplotlib，但需要安装mpl_toolkits工具包，使用pip安装命令，语法如下：</p>
<p>pip install –upgrade matplotlib<br>安装好这个模块后，即可调用mpl_tookits下的mplot3d类进行3D图表的绘制。</p>
<h4 id="1．3D柱形图"><a href="#1．3D柱形图" class="headerlink" title="1．3D柱形图"></a>1．3D柱形图</h4><p>【示例33】　绘制3D柱形图。（示例位置：资源包\MR\Code\05\33）<br>绘制3D柱形图，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050416166.png" alt="image-20211022050416166"></p>
<p>运行程序，输出结果如图5.61所示。</p>
<h4 id="2．3D曲面图"><a href="#2．3D曲面图" class="headerlink" title="2．3D曲面图"></a>2．3D曲面图</h4><p>【示例34】　绘制3D曲面图。（示例位置：资源包\MR\Code\05\34）<br>绘制3D曲面图，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050435386.png" alt="image-20211022050435386"></p>
<p>运行程序，输出结果如图5.62所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050517722.png" alt="image-20211022050517722"></p>
<p>​                                                                                                图5.61　3D柱形图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050540268.png" alt="image-20211022050540268"></p>
<p>​                                                                                                图5.62　3D曲面图</p>
<h3 id="5-6-10-绘制多个子图表"><a href="#5-6-10-绘制多个子图表" class="headerlink" title="5.6.10　绘制多个子图表"></a>5.6.10　绘制多个子图表</h3><p>Matplotlib可以实现在一张图上绘制多个子图表。Matplotlib提供了3种方法：一是subplot()函数；二是subplots()函数；三是add_subplot()函数，下面分别介绍。</p>
<h4 id="1．subplot-函数"><a href="#1．subplot-函数" class="headerlink" title="1．subplot()函数"></a>1．subplot()函数</h4><p>subplot()函数直接指定划分方式和位置，它可以将一个绘图区域划分为n个子图，每个subplot()函数只能绘制一个子图。语法如下：</p>
<p>matplotlib.pyplot.subplot(*args,**kwargs)<br>参数说明：　**</p>
<p><em>args：当传入的参数个数未知时使用</em>args。　</p>
<p>kwargs：关键字参数，其他可选参数。<br>例如，绘制一个2×3的区域，subplot(2,3,3)，将画布分成2行3列在第3个区域中绘制，用坐标表示如下：</p>
<p>(1,1),(1,2),(1,3)</p>
<p>(2,1),(2,2),(2,3)<br>如果行列的值都小于10，那么可以把它们缩写为一个整数，如subplot(233)。<br>另外，subplot()函数在指定的区域中创建一个轴对象，如果新创建的轴和之前所创建的轴重叠，那么，之前的轴将被删除。</p>
<p>【示例35】　使用subplot()函数绘制多个子图的空图表。（示例位置：资源包\MR\Code\05\35）<br>绘制一个2×3包含6个子图的空图表，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050641579.png" alt="image-20211022050641579"></p>
<p>运行程序，输出结果如图5.63所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050704636.png" alt="image-20211022050704636"></p>
<p>​                                                                                        图5.63　6个子图的空图表</p>
<p>【示例36】　绘制包含多个子图的图表。（示例位置：资源包\MR\Code\05\36）<br>通过上述举例了解了subplot()函数的基本用法，接下来将前面所学的简单图表整合到一张图表上，结果如图5.64所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050726379.png" alt="image-20211022050726379"></p>
<p>​                                                                                                图5.64　多个子图<br>程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050819496.png" alt="image-20211022050819496"></p>
<p>上述举例，以下两个关键点一定要掌握。<br>（1）每绘制一个子图表都要调用一次subplot()函数。<br>（2）绘图区域位置编号。<br>subplot()函数的前面两个参数指定的是一个画布被分割成的行数和列数，后面一个参数则指的是当前绘制区域位置编号，编号规则是行优先。<br>例如，图5.64中有3个子图表，第1个子图表subplot(2,2,1)，即将画布分成2行2列，在第1个子图中绘制折线图；第2个子图表subplot(2,2,2)，将画布分成2行2列，在第2个子图中绘制散点图；第3个子图表subplot(2,1,2)，将画布分成2行1列，由于第1行已经占用了，所以在第2行也就是第3个子图中绘制柱形图。示意图如图5.65所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022050957651.png" alt="image-20211022050957651"></p>
<p>​                                                                                               图5.65　多个子图示意图<br>subplot()函数在画布中绘图时，每次都要调用它指定绘图区域非常麻烦，而subplots()函数则更直接，它会事先把画布区域分割好。下面介绍subplots()函数。</p>
<h4 id="2．subplots-函数"><a href="#2．subplots-函数" class="headerlink" title="2．subplots()函数"></a>2．subplots()函数</h4><p>subplots()函数用于创建画布和子图，语法如下：</p>
<p>matplotlib.pyplot.subplots(nrows,ncols,sharex,sharey,squeeze,subplot_kw,gridspec_kw,**fig_kw)<br>参数说明：　</p>
<p>nrows和ncols：表示将画布分割成几行几列，例如，nrows&#x3D;2、ncols&#x3D;2表示将画布分割为2行2列，起始值均为0。当调用画布中的坐标轴时，ax[0,0]表示调用左上角的坐标，ax[1,1]表示调用右下角的坐标。　</p>
<p>sharex和sharey：布尔值或者值为“none”“all”“row”“col”，默认值为False。用于控制x或y轴之间的属性共享。具体参数值说明如下。　	</p>
<p>​		True或者“all”：表示x或y轴属性在所有子图中共享。　</p>
<p>​		False或者“none”：表示每个子图的x或y轴都是独立的部分。　</p>
<p>​		“row”：表示每个子图在一个x或y轴上共享行（row）。　</p>
<p>​		“col”：表示每个子图在一个x或y轴上共享列（column）　</p>
<p>squeeze：布尔值，默认值为True，额外的维度从返回的axes（轴）对象中挤出，对于n×1或1×n个子图，返回一个一维数组，对于n×m，n&gt;1和m&gt;1返回一个二维数组；如果值为False，则表示不进行挤压操作，返回一个元素为Axes实例的二维数组，即使它最终是1×1。　</p>
<p>subplot_kw：字典类型，可选参数。把字典的关键字传递给add_subplot()函数来创建每个子图。　</p>
<p>gridspec_kw：字典类型，可选参数。把字典的关键字传递给GridSpec()构造函数创建网格区域，然后将子图放在网格（grid）里。　**fig_kw：把所有详细的关键字参数传递给figure。</p>
<p>【示例37】　使用subplots()函数绘制多子图的空图表。（示例位置：资源包\MR\Code\05\37）<br>绘制一个2×3包含6个子图的空图表，使用subplots()函数只需3行代码。</p>
<p>01 import matplotlib.pyplot as plt<br>02 figure,axes&#x3D;plt.subplots(2,3)<br>03 plt.show()<br>上述代码中，figure和axes是两个关键点。　</p>
<p>figure：绘制图表的画布。　</p>
<p>axes：坐标轴对象，可以理解为在figure（画布）上绘制坐标轴对象，它帮我们规划出了一个个科学作图的坐标轴系统。<br>通过图5.66中的示意图可以明白，外面的是画布（figure），里面带坐标轴的是坐标轴对象（axes）。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051256063.png" alt="image-20211022051256063"></p>
<p>​                                                                                                 图5.66　坐标系统示意图</p>
<p>【示例38】　使用subplots()函数绘制多子图图表。（示例位置：资源包\MR\Code\05\38）<br>使用subplots()函数将前面所学的简单图表整合到一张图表上，结果如图5.67所示。<br>程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051345468.png" alt="image-20211022051345468"></p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051430897.png" alt="image-20211022051430897">                                                                                                    </p>
<p>​                                                                                                  图5.67　多子图图表</p>
<h4 id="3．add-subplot-函数"><a href="#3．add-subplot-函数" class="headerlink" title="3．add_subplot()函数"></a>3．add_subplot()函数</h4><p>【示例39】　使用add_subplot()函数绘制多子图图表。（示例位置：资源包\MR\Code\05\39）<br>add_subplot()函数也可以实现在一张图上绘制多个子图表，用法与subplot()函数基本相同，先来看下列一段代码：</p>
<p>01 import matplotlib.pyplot as plt<br>02 fig &#x3D; plt.figure()</p>
<p>03 ax1 &#x3D; fig.add_subplot(2,3,1)<br>04 ax2 &#x3D; fig.add_subplot(2,3,2)<br>05 ax3 &#x3D; fig.add_subplot(2,3,3)<br>06 ax4 &#x3D; fig.add_subplot(2,3,4)<br>07 ax5 &#x3D; fig.add_subplot(2,3,5)<br>08 ax6 &#x3D; fig.add_subplot(2,3,6)<br>上述代码同样是绘制一个2×3包含6个子图的空图表。首先创建figure实例（画布），然后通过ax1 &#x3D;fig.add_subplot(2,3,1)创建第1个子图表，返回Axes实例（坐标轴对象），第1个参数为行数，第2个参数为列数，第3个参数为子图表的位置。<br>以上用3种方法实现了在一张图上绘制多个子图表，3种方法各有所长。subplot()函数和add_subplot()函数比较灵活，定制化效果比较好，可以实现子图表在图中的各种布局（如一张图上可以随意摆放3个或5个图表）；而subplots()函数较为不灵活，但它可以用较少的代码实现绘制多个子图表。</p>
<h3 id="5-6-11-图表的保存"><a href="#5-6-11-图表的保存" class="headerlink" title="5.6.11　图表的保存"></a>5.6.11　图表的保存</h3><p>实际工作中，有时需要将绘制的图表保存为图片放置到报告中。Matplotlib的savefig()函数可以实现这一功能，将图表保存为JPEG、TIFF或PNG格式的图片。<br>例如，保存之前绘制的折线图，主要代码如下：</p>
<p>plt.savefig(‘image.png’)<br>需要注意的一个关键问题：保存代码必须在图表预览前，也就是plt.show()代码前；否则保存后的图片是白色，图表无法保存。<br>运行程序，图表被保存在程序所在路径下，名为image.png，如图5.68所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051548738.png" alt="image-20211022051548738"></p>
<p>​                                                                                             图5.68　保存后的图表</p>
<h2 id="5-7-综合应用"><a href="#5-7-综合应用" class="headerlink" title="5.7　综合应用"></a>5.7　综合应用</h2><h3 id="5-7-1-案例1：双y轴可视化数据分析图表的实现"><a href="#5-7-1-案例1：双y轴可视化数据分析图表的实现" class="headerlink" title="5.7.1　案例1：双y轴可视化数据分析图表的实现"></a>5.7.1　案例1：双y轴可视化数据分析图表的实现</h3><p>案例位置：资源包\MR\Code\05\example\01<br>双y轴顾名思义就是两个y轴，其特点是通过双y轴可以看出发展情况的同时还可以看到其增长速度。对于产品而言，通过此图可以看到产品销量的同时还可以看到产品增长率，效果如图5.69所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051701232.png" alt="image-20211022051701232"></p>
<p>​                                                                           图5.69　双y轴可视化数据分析图表<br>双y轴可视化数据分析图表的实现主要使用add_suplot()函数和twinx()函数。twinx()函数表示共享x轴，那么也就是一个x轴、两个y轴，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051736548.png" alt="image-20211022051736548"></p>
<h3 id="5-7-2-案例2：颜色渐变饼形图的实现"><a href="#5-7-2-案例2：颜色渐变饼形图的实现" class="headerlink" title="5.7.2　案例2：颜色渐变饼形图的实现"></a>5.7.2　案例2：颜色渐变饼形图的实现</h3><p>案例位置：资源包\MR\Code\05\example\03<br>在绘制图表的过程中，每一次都苦于颜色设置问题，数据较多的情况下，不知道该如何配色，手动配色费时费力。下面绘制渐变颜色的饼形图，根据所占比例自动配置渐变色，占比越大颜色越深，占比越小颜色越浅，省去了手动配色的麻烦，而且占比情况一目了然，效果如图5.70所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051826217.png" alt="image-20211022051826217"></p>
<p>​                                                                                           图5.70　渐变色饼形图<br>颜色渐变主要使用了Matplotlib内置颜色地图模块cm，在该模块中指定一组数据可以生成多种颜色，由浅入深。例如，渐变蓝色，cmap&#x3D;plt.cm.Blues。<br>下面来绘制颜色渐变的饼形图，程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022051859149.png" alt="image-20211022051859149"></p>
<h3 id="5-7-3-案例3：等高线图的实现"><a href="#5-7-3-案例3：等高线图的实现" class="headerlink" title="5.7.3　案例3：等高线图的实现"></a>5.7.3　案例3：等高线图的实现</h3><p>案例位置：资源包\MR\Code\05\example\04<br>等高线图是在地理课中讲述山峰山谷时绘制的图形，在机器学习中也会被用在绘制梯度下降算法的图形中。等高线图实现结果如图5.71所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022052019277.png" alt="image-20211022052019277"></p>
<p>程序代码如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/image-20211022052044728.png" alt="image-20211022052044728"></p>
<p>关键代码解析：</p>
<p>要画出等高线，核心函数是Matplotlib的contourf()函数，但该函数中参数x和y对应的值是二维数据，因此需要使用NumPy的meshgrid()函数将x和y值转换成二维数据，代码如下：</p>
<p>np.meshgrid(x, y)</p>
<h2 id="5-8-小结"><a href="#5-8-小结" class="headerlink" title="5.8　小结"></a>5.8　小结</h2><p>数据统计得再好都不如一张图表清晰、直观。本章用大量的举例详细地介绍了Matplotlib图表，其根本在于能够使读者全面透彻地了解和掌握最基础的图表，并应用到实际数据统计分析工作中，同时也为以后学习其他绘图库奠定坚实的基础。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://jiaobingyang.gitee.io">三乘以十的八次幂</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://jiaobingyang.gitee.io/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/">https://jiaobingyang.gitee.io/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%885%EF%BC%89/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://jiaobingyang.gitee.io" target="_blank">三乘以十的八次幂</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a></div><div class="post_share"><div class="social-share" data-image="https://img2.baidu.com/it/u=3843742074,4293285046&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=822&amp;h=500" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220624081333.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220624081333.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220624081350.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220624081350.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%887%EF%BC%89/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=86028500,1800130667&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500" onerror="onerror=null;src='/img/wallhaven-e76roo.png'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据分析（7）</div></div></a></div><div class="next-post pull-right"><a href="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%884%EF%BC%89/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img0.baidu.com/it/u=3046384215,884063302&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=233" onerror="onerror=null;src='/img/wallhaven-e76roo.png'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">数据分析（4）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%881-3%EF%BC%89/" title="数据分析（1-3）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=2952638880,3324182124&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-30</div><div class="title">数据分析（1-3）</div></div></a></div><div><a href="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%887%EF%BC%89/" title="数据分析（7）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=86028500,1800130667&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-30</div><div class="title">数据分析（7）</div></div></a></div><div><a href="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%889%EF%BC%89/" title="数据分析（9）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img0.baidu.com/it/u=3159172942,2257139948&fm=253&fmt=auto&app=138&f=JPEG?w=790&h=470" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-30</div><div class="title">数据分析（9）</div></div></a></div><div><a href="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%888%EF%BC%89/" title="数据分析（8）Numpy"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.baidu.com/it/u=3796649019,1786443255&fm=253&fmt=auto&app=138&f=JPEG?w=700&h=455" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-30</div><div class="title">数据分析（8）Numpy</div></div></a></div><div><a href="/2017/06/20/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/" title="面向对象编程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=2952638880,3324182124&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2017-06-20</div><div class="title">面向对象编程</div></div></a></div><div><a href="/2021/05/30/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%884%EF%BC%89/" title="数据分析（4）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img0.baidu.com/it/u=3046384215,884063302&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=233" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-30</div><div class="title">数据分析（4）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/13279652804370799.jpg" onerror="this.onerror=null;this.src='/img/wallhaven-e76roo.png'" alt="avatar"/></div><div class="author-info__name">三乘以十的八次幂</div><div class="author-info__description">死亡如风，常伴吾身</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">99</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/BINGYANGJIAO/bingyangjiao.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/BINGYANGJIAO/bingyangjiao.github.io" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:781250021@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">兴趣爱好才是最大的动力，何不与我共同攀知识高峰，品翘楚美人！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-matplotlib%E5%8F%AF%E8%A7%86%E5%8C%96%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%9B%BE%E8%A1%A8"><span class="toc-number">1.</span> <span class="toc-text">第五章 matplotlib可视化数据分析图表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%9B%BE%E8%A1%A8%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.1.</span> <span class="toc-text">5.1数据分析图表的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E9%80%82%E5%90%88%E7%9A%84%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text">5.2　如何选择适合的图表类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E5%9B%BE%E8%A1%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90"><span class="toc-number">1.3.</span> <span class="toc-text">5.3　图表的基本组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-Matplotlib%E6%A6%82%E8%BF%B0"><span class="toc-number">1.4.</span> <span class="toc-text">5.4　Matplotlib概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-1-Matplotlib%E7%AE%80%E4%BB%8B"><span class="toc-number">1.4.1.</span> <span class="toc-text">5.4.1　Matplotlib简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-2-%E5%AE%89%E8%A3%85Matplotlib"><span class="toc-number">1.4.2.</span> <span class="toc-text">5.4.2　安装Matplotlib</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-3-Matplotlib%E5%9B%BE%E8%A1%A8%E4%B9%8B%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-number">1.4.3.</span> <span class="toc-text">5.4.3　Matplotlib图表之初体验</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E5%9B%BE%E8%A1%A8%E7%9A%84%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.5.</span> <span class="toc-text">5.5　图表的常用设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-1-%E5%9F%BA%E6%9C%AC%E7%BB%98%E5%9B%BEplot-%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.5.1　基本绘图plot()函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8E%E9%A2%9C%E8%89%B2%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">1．颜色设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E%E7%BA%BF%E6%9D%A1%E6%A0%B7%E5%BC%8F"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">2．线条样式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%8E%E6%A0%87%E8%AE%B0%E6%A0%B7%E5%BC%8F"><span class="toc-number">1.5.1.3.</span> <span class="toc-text">3．标记样式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-2-%E8%AE%BE%E7%BD%AE%E7%94%BB%E5%B8%83"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.5.2　设置画布</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-3-%E8%AE%BE%E7%BD%AE%E5%9D%90%E6%A0%87%E8%BD%B4"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.5.3　设置坐标轴</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8Ex%E8%BD%B4%E3%80%81y%E8%BD%B4%E6%A0%87%E9%A2%98"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">1．x轴、y轴标题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E%E5%9D%90%E6%A0%87%E8%BD%B4%E5%88%BB%E5%BA%A6"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">2．坐标轴刻度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%8E%E5%9D%90%E6%A0%87%E8%BD%B4%E8%8C%83%E5%9B%B4"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">3．坐标轴范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%8E%E7%BD%91%E6%A0%BC%E7%BA%BF"><span class="toc-number">1.5.3.4.</span> <span class="toc-text">4．网格线</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-4-%E6%B7%BB%E5%8A%A0%E6%96%87%E6%9C%AC%E6%A0%87%E7%AD%BE"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.5.4　添加文本标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-5-%E8%AE%BE%E7%BD%AE%E6%A0%87%E9%A2%98%E5%92%8C%E5%9B%BE%E4%BE%8B"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.5.5　设置标题和图例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8E%E5%9B%BE%E8%A1%A8%E6%A0%87%E9%A2%98"><span class="toc-number">1.5.5.1.</span> <span class="toc-text">1．图表标题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E%E5%9B%BE%E8%A1%A8%E5%9B%BE%E4%BE%8B"><span class="toc-number">1.5.5.2.</span> <span class="toc-text">2．图表图例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-6-%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A"><span class="toc-number">1.5.6.</span> <span class="toc-text">5.5.6　添加注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-7-%E8%B0%83%E6%95%B4%E5%9B%BE%E8%A1%A8%E4%B8%8E%E7%94%BB%E5%B8%83%E8%BE%B9%E7%BC%98%E9%97%B4%E8%B7%9D"><span class="toc-number">1.5.7.</span> <span class="toc-text">5.5.7　调整图表与画布边缘间距</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-8-%E5%85%B6%E4%BB%96%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.5.8.</span> <span class="toc-text">5.5.8　其他设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8E%E5%9D%90%E6%A0%87%E8%BD%B4%E7%9A%84%E5%88%BB%E5%BA%A6%E7%BA%BF"><span class="toc-number">1.5.8.1.</span> <span class="toc-text">1．坐标轴的刻度线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E%E5%9D%90%E6%A0%87%E8%BD%B4%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.5.8.2.</span> <span class="toc-text">2．坐标轴相关属性设置</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-%E5%B8%B8%E7%94%A8%E5%9B%BE%E8%A1%A8%E7%9A%84%E7%BB%98%E5%88%B6"><span class="toc-number">1.6.</span> <span class="toc-text">5.6　常用图表的绘制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-1-%E7%BB%98%E5%88%B6%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.6.1　绘制折线图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-2-%E7%BB%98%E5%88%B6%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.6.2　绘制柱形图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8E%E5%9F%BA%E6%9C%AC%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">1．基本柱形图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E%E5%A4%9A%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">2．多柱形图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-3-%E7%BB%98%E5%88%B6%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">1.6.3.</span> <span class="toc-text">5.6.3　绘制直方图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-4-%E7%BB%98%E5%88%B6%E9%A5%BC%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.4.</span> <span class="toc-text">5.6.4　绘制饼形图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8E%E5%9F%BA%E7%A1%80%E9%A5%BC%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">1．基础饼形图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E%E5%88%86%E8%A3%82%E9%A5%BC%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">2．分裂饼形图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%8E%E7%AB%8B%E4%BD%93%E6%84%9F%E5%B8%A6%E9%98%B4%E5%BD%B1%E7%9A%84%E9%A5%BC%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">3．立体感带阴影的饼形图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%8E%E7%8E%AF%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">4．环形图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%BC%8E%E5%86%85%E5%B5%8C%E7%8E%AF%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.4.5.</span> <span class="toc-text">5．内嵌环形图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-5-%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">1.6.5.</span> <span class="toc-text">5.6.5　绘制散点图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-6-%E7%BB%98%E5%88%B6%E9%9D%A2%E7%A7%AF%E5%9B%BE"><span class="toc-number">1.6.6.</span> <span class="toc-text">5.6.6　绘制面积图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8E%E6%A0%87%E5%87%86%E9%9D%A2%E7%A7%AF%E5%9B%BE"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">1．标准面积图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E%E5%A0%86%E5%8F%A0%E9%9D%A2%E7%A7%AF%E5%9B%BE"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">2．堆叠面积图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-7-%E7%BB%98%E5%88%B6%E7%83%AD%E5%8A%9B%E5%9B%BE"><span class="toc-number">1.6.7.</span> <span class="toc-text">5.6.7　绘制热力图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-8-%E7%BB%98%E5%88%B6%E7%AE%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.8.</span> <span class="toc-text">5.6.8　绘制箱形图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-9-%E7%BB%98%E5%88%B63D%E5%9B%BE%E8%A1%A8"><span class="toc-number">1.6.9.</span> <span class="toc-text">5.6.9　绘制3D图表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8E3D%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">1.6.9.1.</span> <span class="toc-text">1．3D柱形图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8E3D%E6%9B%B2%E9%9D%A2%E5%9B%BE"><span class="toc-number">1.6.9.2.</span> <span class="toc-text">2．3D曲面图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-10-%E7%BB%98%E5%88%B6%E5%A4%9A%E4%B8%AA%E5%AD%90%E5%9B%BE%E8%A1%A8"><span class="toc-number">1.6.10.</span> <span class="toc-text">5.6.10　绘制多个子图表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8Esubplot-%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.10.1.</span> <span class="toc-text">1．subplot()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8Esubplots-%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.10.2.</span> <span class="toc-text">2．subplots()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%8Eadd-subplot-%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.10.3.</span> <span class="toc-text">3．add_subplot()函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-11-%E5%9B%BE%E8%A1%A8%E7%9A%84%E4%BF%9D%E5%AD%98"><span class="toc-number">1.6.11.</span> <span class="toc-text">5.6.11　图表的保存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-7-%E7%BB%BC%E5%90%88%E5%BA%94%E7%94%A8"><span class="toc-number">1.7.</span> <span class="toc-text">5.7　综合应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-1-%E6%A1%88%E4%BE%8B1%EF%BC%9A%E5%8F%8Cy%E8%BD%B4%E5%8F%AF%E8%A7%86%E5%8C%96%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%9B%BE%E8%A1%A8%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.7.1.</span> <span class="toc-text">5.7.1　案例1：双y轴可视化数据分析图表的实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-2-%E6%A1%88%E4%BE%8B2%EF%BC%9A%E9%A2%9C%E8%89%B2%E6%B8%90%E5%8F%98%E9%A5%BC%E5%BD%A2%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.7.2.</span> <span class="toc-text">5.7.2　案例2：颜色渐变饼形图的实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-3-%E6%A1%88%E4%BE%8B3%EF%BC%9A%E7%AD%89%E9%AB%98%E7%BA%BF%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.7.3.</span> <span class="toc-text">5.7.3　案例3：等高线图的实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-8-%E5%B0%8F%E7%BB%93"><span class="toc-number">1.8.</span> <span class="toc-text">5.8　小结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/09/27/%E6%97%A5%E5%B8%B8%E9%9D%A2%E8%AF%95%E9%A2%98/" title="日积月累"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/13280497753579408.jpg" onerror="this.onerror=null;this.src='/img/wallhaven-e76roo.png'" alt="日积月累"/></a><div class="content"><a class="title" href="/2022/09/27/%E6%97%A5%E5%B8%B8%E9%9D%A2%E8%AF%95%E9%A2%98/" title="日积月累">日积月累</a><time datetime="2022-09-27T12:26:26.000Z" title="发表于 2022-09-27 20:26:26">2022-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/06/%E5%9F%BA%E7%A1%80%E9%9D%A2%E8%AF%95%E9%A2%98/" title="前端基础"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/13280497753579408.jpg" onerror="this.onerror=null;this.src='/img/wallhaven-e76roo.png'" alt="前端基础"/></a><div class="content"><a class="title" href="/2022/07/06/%E5%9F%BA%E7%A1%80%E9%9D%A2%E8%AF%95%E9%A2%98/" title="前端基础">前端基础</a><time datetime="2022-07-06T06:40:34.000Z" title="发表于 2022-07-06 14:40:34">2022-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/28/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="前端进阶"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/13280497753579408.jpg" onerror="this.onerror=null;this.src='/img/wallhaven-e76roo.png'" alt="前端进阶"/></a><div class="content"><a class="title" href="/2022/06/28/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="前端进阶">前端进阶</a><time datetime="2022-06-27T23:33:45.000Z" title="发表于 2022-06-28 07:33:45">2022-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/23/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" title="事件循环"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/13280497753579408.jpg" onerror="this.onerror=null;this.src='/img/wallhaven-e76roo.png'" alt="事件循环"/></a><div class="content"><a class="title" href="/2022/05/23/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" title="事件循环">事件循环</a><time datetime="2022-05-23T09:10:37.000Z" title="发表于 2022-05-23 17:10:37">2022-05-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/23/%E6%A8%A1%E5%9D%97%E5%8C%96/" title="模块化"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/13280497753579408.jpg" onerror="this.onerror=null;this.src='/img/wallhaven-e76roo.png'" alt="模块化"/></a><div class="content"><a class="title" href="/2022/03/23/%E6%A8%A1%E5%9D%97%E5%8C%96/" title="模块化">模块化</a><time datetime="2022-03-23T08:50:18.000Z" title="发表于 2022-03-23 16:50:18">2022-03-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 三乘以十的八次幂</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="2963148865" data-server="netease" data-type="playlist" data-mini="true" data-fixed="true" data-preload="auto" data-autoplay="true"> </div><script>window.$crisp = [];
window.CRISP_WEBSITE_ID = "e0515f76-f737-4f77-ad57-761c3dc58f50";
(function () {
  d = document;
  s = d.createElement("script");
  s.src = "https://client.crisp.chat/l.js";
  s.async = 1;
  d.getElementsByTagName("head")[0].appendChild(s);
})();
$crisp.push(["safe", true])

if (false) {
  $crisp.push(["do", "chat:hide"])
  $crisp.push(["on", "chat:closed", function() {
    $crisp.push(["do", "chat:hide"])
  }])
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      $crisp.push(["do", "chat:show"])
      $crisp.push(["do", "chat:open"])

    });
  }
  chatBtnFn()
} else {
  if (false) {
    function chatBtnHide () {
      $crisp.push(["do", "chat:hide"])
    }
    function chatBtnShow () {
      $crisp.push(["do", "chat:show"])
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>